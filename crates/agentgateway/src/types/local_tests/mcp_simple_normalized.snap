---
source: crates/agentgateway/src/types/local_tests.rs
description: "Config normalization test for mcp_simple: YAML -> LocalConfig -> NormalizedLocalConfig -> YAML"
---
binds:
- key: bind/3000
  address: '[::]:3000'
  protocol: http
  tunnelProtocol: direct
  listeners:
    mcp:
      key: mcp
      gatewayName: name
      gatewayNamespace: ns
      listenerName: mcp
      hostname: '*'
      protocol: HTTP
      routes:
        mcp:default:
          key: mcp:default
          name: default
          namespace: internal
          matches:
          - path:
              pathPrefix: /
          backends:
          - weight: 1
            backend: /mcp
      tcpRoutes: {}
policies: []
backends:
- backend:
    mcp:
      name: mcp
      namespace: ''
      target:
        targets:
        - name: time
          stdio:
            cmd: uvx
            args:
            - mcp-server-time
        - name: everything
          stdio:
            cmd: npx
            args:
            - '@modelcontextprotocol/server-everything'
        stateful: true
        alwaysUsePrefix: false
workloads: []
services: []
